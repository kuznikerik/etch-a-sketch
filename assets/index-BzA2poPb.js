(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const f="_gridContainer_1uczj_7",v="_gridItem_1uczj_16",h="_gridItemActive_1uczj_25",p="_controlsContainer_1uczj_29",L="_clearButton_1uczj_39",E="_gridSizeButton_1uczj_40",I="_saveButton_1uczj_41",s={gridContainer:f,gridItem:v,gridItemActive:h,controlsContainer:p,clearButton:L,gridSizeButton:E,saveButton:I},d=document.getElementById("app"),l=64,g=1,m=100;let c=!1;if(!D())a(d,l);else{a(d,l);const t=O(),e=M(),n=q(e);a(d,t,n)}function a(t,e,n){N(t);const i=S();t.appendChild(i),C(e,i),i.style.setProperty("--grid-size",e.toString());const r=B();t.appendChild(r),n&&j(n)}function S(){const t=document.createElement("div");return t.setAttribute("id","grid"),t.classList.add(s.gridContainer),t}function C(t,e){for(let i=0;i<t*t;i++){const r=document.createElement("div");r.setAttribute("data-nid",String(i)),r.classList.add(s.gridItem),e.appendChild(r)}const n=e.querySelectorAll("div[data-nid]");y(n)}function y(t){t.forEach(e=>{e.addEventListener("mousedown",n=>{n.preventDefault(),c=!0,e.classList.toggle(s.gridItemActive)}),document.addEventListener("mouseup",()=>{c=!1}),e.addEventListener("mouseenter",()=>{c&&e.classList.add(s.gridItemActive)}),e.addEventListener("mouseleave",()=>{c&&e.classList.add(s.gridItemActive)}),e.addEventListener("touchstart",n=>{n.preventDefault(),c=!0,e.classList.toggle(s.gridItemActive)}),e.addEventListener("touchend",()=>{c=!1}),e.addEventListener("touchmove",n=>{const i=n;i.preventDefault();const r=i.touches[0],o=document.elementFromPoint(r.clientX,r.clientY);o&&o.hasAttribute("data-nid")&&o.classList.add(s.gridItemActive)})})}function B(){const t=document.createElement("div");t.classList.add(s.controlsContainer);const e=A();t.appendChild(e);const n=_();t.appendChild(n);const i=w();return t.appendChild(i),t}function A(){const t=document.createElement("button");return t.classList.add(s.clearButton),t.textContent="Clear",z(t),t}function _(){const t=document.createElement("button");return t.classList.add(s.gridSizeButton),t.textContent="Change grid size",b(t),t}function w(){const t=document.createElement("button");return t.classList.add(s.saveButton),t.textContent="Share",G(t),t}function z(t){t.addEventListener("click",R)}function b(t){t.addEventListener("click",()=>{const e=prompt(`How big should the grid be? (${g} - ${m})`),n=Number(e);if(!e||!Number.isInteger(n)||n<g||n>m){alert("Enter a valid grid size! Grid will be reset to it's default size."),a(d,l);return}a(d,n)})}function G(t){t.addEventListener("click",()=>{const e=U(),n=P();if(!e||!n)return;const i=new URL(window.location.href);i.searchParams.set("s",String(e)),i.searchParams.set("grid",n),window.history.replaceState({},"",i.toString())})}function U(){const t=document.getElementById("grid");if(!t)return 0;const e=t.childElementCount;return Math.sqrt(e)}function P(){const t=document.getElementById("grid");if(!t)return"";const e=[];for(const i of t.children)if(i.classList.length>1){const r=i.getAttribute("data-nid");r&&e.push(Number(r))}if(e.length===0)return"";const n=e.join(",");return encodeURIComponent(n)}function R(){const t=document.getElementById("grid");if(!t)return;t.querySelectorAll("div[data-nid]").forEach(n=>{n.classList.remove(s.gridItemActive)}),x()}function N(t){document.getElementById("grid")&&(t.innerHTML="")}function j(t){if(t.length===0)return;const e=document.getElementById("grid");if(!e)return;const n=e.querySelectorAll("div[data-nid]");for(const i of n){const r=i.getAttribute("data-nid");r&&t.includes(r)&&i.classList.add(s.gridItemActive)}}function D(){const t=new URL(window.location.href).searchParams,e=t.get("s"),n=t.get("grid");return!!(e&&n)}function O(){const t=new URL(window.location.href).searchParams;return Number(t.get("s"))||0}function M(){return new URL(window.location.href).searchParams.get("grid")||""}function q(t){return decodeURIComponent(t).split(",").filter(i=>i!=="")}function x(){const t=new URL(window.location.href);t.search="",window.history.replaceState({},"",t.toString())}
