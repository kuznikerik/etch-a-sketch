var fr=Object.defineProperty;var lr=(e,r,t)=>r in e?fr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var oe=(e,r,t)=>lr(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const ur="_notificationContainer_vi9yu_9",vr="_notification_vi9yu_9",dr="_fadeIn_vi9yu_1",hr="_successNotification_vi9yu_32",gr="_infoNotification_vi9yu_37",mr="_alertNotification_vi9yu_42",wr="_errorNotification_vi9yu_47",pe={notificationContainer:ur,notification:vr,fadeIn:dr,successNotification:hr,infoNotification:gr,alertNotification:mr,errorNotification:wr},ee=class ee{constructor(r,t=3e4,n){oe(this,"message");oe(this,"duration");oe(this,"element");oe(this,"type");this.message=r,this.duration=t,this.type=n,this.element=this.createElement()}static getOrCreateContainer(){if(!ee.container){const r=document.createElement("div");r.classList.add(pe.notificationContainer),document.body.appendChild(r),ee.container=r}return ee.container}createElement(){const r=document.createElement("div");return r.classList.add(pe.notification,pe[`${this.type}Notification`]),r.innerText=this.message,r}initialize(){ee.getOrCreateContainer().appendChild(this.element)}show(){this.initialize(),setTimeout(()=>{this.hide()},this.duration)}hide(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)}};oe(ee,"container",null);let Y=ee;const br="_gridContainer_1bnfj_7",Cr="_gridItem_1bnfj_16",yr="_gridItemActive_1bnfj_25",Ar="_controlsContainer_1bnfj_29",xr="_button_1bnfj_39",Er="_buttonActive_1bnfj_50",$={gridContainer:br,gridItem:Cr,gridItemActive:yr,controlsContainer:Ar,button:xr,buttonActive:Er};var I=Uint8Array,k=Uint16Array,Me=Int32Array,Ae=new I([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xe=new I([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fe=new I([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),He=function(e,r){for(var t=new k(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var o=new Me(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)o[i]=i-t[n]<<5|n;return{b:t,r:o}},Xe=He(Ae,2),Ke=Xe.b,Be=Xe.r;Ke[28]=258,Be[258]=28;var Ve=He(xe,0),pr=Ve.b,Ge=Ve.r,Ie=new k(32768);for(var h=0;h<32768;++h){var Q=(h&43690)>>1|(h&21845)<<1;Q=(Q&52428)>>2|(Q&13107)<<2,Q=(Q&61680)>>4|(Q&3855)<<4,Ie[h]=((Q&65280)>>8|(Q&255)<<8)>>1}var X=function(e,r,t){for(var n=e.length,o=0,i=new k(r);o<n;++o)e[o]&&++i[e[o]-1];var a=new k(r);for(o=1;o<r;++o)a[o]=a[o-1]+i[o-1]<<1;var l;if(t){l=new k(1<<r);var v=15-r;for(o=0;o<n;++o)if(e[o])for(var m=o<<4|e[o],c=r-e[o],s=a[e[o]-1]++<<c,u=s|(1<<c)-1;s<=u;++s)l[Ie[s]>>v]=m}else for(l=new k(n),o=0;o<n;++o)e[o]&&(l[o]=Ie[a[e[o]-1]++]>>15-e[o]);return l},W=new I(288);for(var h=0;h<144;++h)W[h]=8;for(var h=144;h<256;++h)W[h]=9;for(var h=256;h<280;++h)W[h]=7;for(var h=280;h<288;++h)W[h]=8;var me=new I(32);for(var h=0;h<32;++h)me[h]=5;var _r=X(W,9,0),Sr=X(W,9,1),Lr=X(me,5,0),Fr=X(me,5,1),_e=function(e){for(var r=e[0],t=1;t<e.length;++t)e[t]>r&&(r=e[t]);return r},q=function(e,r,t){var n=r/8|0;return(e[n]|e[n+1]<<8)>>(r&7)&t},Se=function(e,r){var t=r/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(r&7)},Te=function(e){return(e+7)/8|0},Ye=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new I(e.subarray(r,t))},Br=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],j=function(e,r,t){var n=new Error(r||Br[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,j),!t)throw n;return n},Ir=function(e,r,t,n){var o=e.length,i=0;if(!o||r.f&&!r.l)return t||new I(0);var a=!t,l=a||r.i!=2,v=r.i;a&&(t=new I(o*3));var m=function(se){var fe=t.length;if(se>fe){var ne=new I(Math.max(fe*2,se));ne.set(t),t=ne}},c=r.f||0,s=r.p||0,u=r.b||0,g=r.l,L=r.d,w=r.m,D=r.n,Z=o*8;do{if(!g){c=q(e,s,1);var T=q(e,s+1,3);if(s+=3,T)if(T==1)g=Sr,L=Fr,w=9,D=5;else if(T==2){var z=q(e,s,31)+257,x=q(e,s+10,15)+4,d=z+q(e,s+5,31)+1;s+=14;for(var f=new I(d),E=new I(19),y=0;y<x;++y)E[Fe[y]]=q(e,s+y*3,7);s+=x*3;for(var B=_e(E),J=(1<<B)-1,G=X(E,B,1),y=0;y<d;){var N=G[q(e,s,J)];s+=N&15;var A=N>>4;if(A<16)f[y++]=A;else{var p=0,b=0;for(A==16?(b=3+q(e,s,3),s+=2,p=f[y-1]):A==17?(b=3+q(e,s,7),s+=3):A==18&&(b=11+q(e,s,127),s+=7);b--;)f[y++]=p}}var M=f.subarray(0,z),_=f.subarray(z);w=_e(M),D=_e(_),g=X(M,w,1),L=X(_,D,1)}else j(1);else{var A=Te(s)+4,U=e[A-4]|e[A-3]<<8,F=A+U;if(F>o){v&&j(0);break}l&&m(u+U),t.set(e.subarray(A,F),u),r.b=u+=U,r.p=s=F*8,r.f=c;continue}if(s>Z){v&&j(0);break}}l&&m(u+131072);for(var ce=(1<<w)-1,O=(1<<D)-1,K=s;;K=s){var p=g[Se(e,s)&ce],R=p>>4;if(s+=p&15,s>Z){v&&j(0);break}if(p||j(2),R<256)t[u++]=R;else if(R==256){K=s,g=null;break}else{var P=R-254;if(R>264){var y=R-257,C=Ae[y];P=q(e,s,(1<<C)-1)+Ke[y],s+=C}var H=L[Se(e,s)&O],re=H>>4;H||j(3),s+=H&15;var _=pr[re];if(re>3){var C=xe[re];_+=Se(e,s)&(1<<C)-1,s+=C}if(s>Z){v&&j(0);break}l&&m(u+131072);var te=u+P;if(u<_){var we=i-_,be=Math.min(_,te);for(we+u<0&&j(3);u<be;++u)t[u]=n[we+u]}for(;u<te;++u)t[u]=t[u-_]}}r.l=g,r.p=K,r.b=u,r.f=c,g&&(c=1,r.m=w,r.d=L,r.n=D)}while(!c);return u!=t.length&&a?Ye(t,0,u):t.subarray(0,u)},V=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8},le=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8,e[n+2]|=t>>16},Le=function(e,r){for(var t=[],n=0;n<e.length;++n)e[n]&&t.push({s:n,f:e[n]});var o=t.length,i=t.slice();if(!o)return{t:Qe,l:0};if(o==1){var a=new I(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(F,z){return F.f-z.f}),t.push({s:-1,f:25001});var l=t[0],v=t[1],m=0,c=1,s=2;for(t[0]={s:-1,f:l.f+v.f,l,r:v};c!=o-1;)l=t[t[m].f<t[s].f?m++:s++],v=t[m!=c&&t[m].f<t[s].f?m++:s++],t[c++]={s:-1,f:l.f+v.f,l,r:v};for(var u=i[0].s,n=1;n<o;++n)i[n].s>u&&(u=i[n].s);var g=new k(u+1),L=Ue(t[c-1],g,0);if(L>r){var n=0,w=0,D=L-r,Z=1<<D;for(i.sort(function(z,x){return g[x.s]-g[z.s]||z.f-x.f});n<o;++n){var T=i[n].s;if(g[T]>r)w+=Z-(1<<L-g[T]),g[T]=r;else break}for(w>>=D;w>0;){var A=i[n].s;g[A]<r?w-=1<<r-g[A]++-1:++n}for(;n>=0&&w;--n){var U=i[n].s;g[U]==r&&(--g[U],++w)}L=r}return{t:new I(g),l:L}},Ue=function(e,r,t){return e.s==-1?Math.max(Ue(e.l,r,t+1),Ue(e.r,r,t+1)):r[e.s]=t},Re=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new k(++r),n=0,o=e[0],i=1,a=function(v){t[n++]=v},l=1;l<=r;++l)if(e[l]==o&&l!=r)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[l]}return{c:t.subarray(0,n),n:r}},ue=function(e,r){for(var t=0,n=0;n<r.length;++n)t+=e[n]*r[n];return t},Je=function(e,r,t){var n=t.length,o=Te(r+2);e[o]=n&255,e[o+1]=n>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var i=0;i<n;++i)e[o+i+4]=t[i];return(o+4+n)*8},Pe=function(e,r,t,n,o,i,a,l,v,m,c){V(r,c++,t),++o[256];for(var s=Le(o,15),u=s.t,g=s.l,L=Le(i,15),w=L.t,D=L.l,Z=Re(u),T=Z.c,A=Z.n,U=Re(w),F=U.c,z=U.n,x=new k(19),d=0;d<T.length;++d)++x[T[d]&31];for(var d=0;d<F.length;++d)++x[F[d]&31];for(var f=Le(x,7),E=f.t,y=f.l,B=19;B>4&&!E[Fe[B-1]];--B);var J=m+5<<3,G=ue(o,W)+ue(i,me)+a,N=ue(o,u)+ue(i,w)+a+14+3*B+ue(x,E)+2*x[16]+3*x[17]+7*x[18];if(v>=0&&J<=G&&J<=N)return Je(r,c,e.subarray(v,v+m));var p,b,M,_;if(V(r,c,1+(N<G)),c+=2,N<G){p=X(u,g,0),b=u,M=X(w,D,0),_=w;var ce=X(E,y,0);V(r,c,A-257),V(r,c+5,z-1),V(r,c+10,B-4),c+=14;for(var d=0;d<B;++d)V(r,c+3*d,E[Fe[d]]);c+=3*B;for(var O=[T,F],K=0;K<2;++K)for(var R=O[K],d=0;d<R.length;++d){var P=R[d]&31;V(r,c,ce[P]),c+=E[P],P>15&&(V(r,c,R[d]>>5&127),c+=R[d]>>12)}}else p=_r,b=W,M=Lr,_=me;for(var d=0;d<l;++d){var C=n[d];if(C>255){var P=C>>18&31;le(r,c,p[P+257]),c+=b[P+257],P>7&&(V(r,c,C>>23&31),c+=Ae[P]);var H=C&31;le(r,c,M[H]),c+=_[H],H>3&&(le(r,c,C>>5&8191),c+=xe[H])}else le(r,c,p[C]),c+=b[C]}return le(r,c,p[256]),c+b[256]},Ur=new Me([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qe=new I(0),zr=function(e,r,t,n,o,i){var a=i.z||e.length,l=new I(n+a+5*(1+Math.ceil(a/7e3))+o),v=l.subarray(n,l.length-o),m=i.l,c=(i.r||0)&7;if(r){c&&(v[0]=i.r>>3);for(var s=Ur[r-1],u=s>>13,g=s&8191,L=(1<<t)-1,w=i.p||new k(32768),D=i.h||new k(L+1),Z=Math.ceil(t/3),T=2*Z,A=function(Ee){return(e[Ee]^e[Ee+1]<<Z^e[Ee+2]<<T)&L},U=new Me(25e3),F=new k(288),z=new k(32),x=0,d=0,f=i.i||0,E=0,y=i.w||0,B=0;f+2<a;++f){var J=A(f),G=f&32767,N=D[J];if(w[G]=N,D[J]=G,y<=f){var p=a-f;if((x>7e3||E>24576)&&(p>423||!m)){c=Pe(e,v,0,U,F,z,d,E,B,f-B,c),E=x=d=0,B=f;for(var b=0;b<286;++b)F[b]=0;for(var b=0;b<30;++b)z[b]=0}var M=2,_=0,ce=g,O=G-N&32767;if(p>2&&J==A(f-O))for(var K=Math.min(u,p)-1,R=Math.min(32767,f),P=Math.min(258,p);O<=R&&--ce&&G!=N;){if(e[f+M]==e[f+M-O]){for(var C=0;C<P&&e[f+C]==e[f+C-O];++C);if(C>M){if(M=C,_=O,C>K)break;for(var H=Math.min(O,C-2),re=0,b=0;b<H;++b){var te=f-O+b&32767,we=w[te],be=te-we&32767;be>re&&(re=be,N=te)}}}G=N,N=w[G],O+=G-N&32767}if(_){U[E++]=268435456|Be[M]<<18|Ge[_];var se=Be[M]&31,fe=Ge[_]&31;d+=Ae[se]+xe[fe],++F[257+se],++z[fe],y=f+M,++x}else U[E++]=e[f],++F[e[f]]}}for(f=Math.max(f,y);f<a;++f)U[E++]=e[f],++F[e[f]];c=Pe(e,v,m,U,F,z,d,E,B,f-B,c),m||(i.r=c&7|v[c/8|0]<<3,c-=7,i.h=D,i.p=w,i.i=f,i.w=y)}else{for(var f=i.w||0;f<a+m;f+=65535){var ne=f+65535;ne>=a&&(v[c/8|0]=m,ne=a),c=Je(v,c+1,e.subarray(f,ne))}i.i=a}return Ye(l,0,n+Te(c)+o)},We=function(){var e=1,r=0;return{p:function(t){for(var n=e,o=r,i=t.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)o+=n+=t[a];n=(n&65535)+15*(n>>16),o=(o&65535)+15*(o>>16)}e=n,r=o},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},Dr=function(e,r,t,n,o){if(!o&&(o={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),a=new I(i.length+e.length);a.set(i),a.set(e,i.length),e=a,o.w=i.length}return zr(e,r.level==null?6:r.level,r.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,n,o)},er=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},Nr=function(e,r){var t=r.level,n=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=n<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var o=We();o.p(r.dictionary),er(e,2,o.d())}},Mr=function(e,r){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&j(6,"invalid zlib data"),(e[1]>>5&1)==+!r&&j(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Tr(e,r){r||(r={});var t=We();t.p(e);var n=Dr(e,r,r.dictionary?6:2,4);return Nr(n,r),er(n,n.length-4,t.d()),n}function Gr(e,r){return Ir(e.subarray(Mr(e,r),-4),{i:2},r,r)}var Rr=typeof TextDecoder<"u"&&new TextDecoder,Pr=0;try{Rr.decode(Qe,{stream:!0}),Pr=1}catch{}const ae=typeof Buffer=="function",ke=typeof TextDecoder=="function"?new TextDecoder:void 0,Oe=typeof TextEncoder=="function"?new TextEncoder:void 0,kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ve=Array.prototype.slice.call(kr),Ce=(e=>{let r={};return e.forEach((t,n)=>r[t]=n),r})(ve),Or=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,S=String.fromCharCode.bind(String),Ze=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),rr=e=>e.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_"),tr=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Zr=e=>{let r,t,n,o,i="";const a=e.length%3;for(let l=0;l<e.length;){if((t=e.charCodeAt(l++))>255||(n=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");r=t<<16|n<<8|o,i+=ve[r>>18&63]+ve[r>>12&63]+ve[r>>6&63]+ve[r&63]}return a?i.slice(0,a-3)+"===".substring(a):i},nr=typeof btoa=="function"?e=>btoa(e):ae?e=>Buffer.from(e,"binary").toString("base64"):Zr,ze=ae?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,o=e.length;n<o;n+=4096)t.push(S.apply(null,e.subarray(n,n+4096)));return nr(t.join(""))},or=(e,r=!1)=>r?rr(ze(e)):ze(e),qr=e=>{if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?S(192|r>>>6)+S(128|r&63):S(224|r>>>12&15)+S(128|r>>>6&63)+S(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return S(240|r>>>18&7)+S(128|r>>>12&63)+S(128|r>>>6&63)+S(128|r&63)}},jr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,$r=e=>e.replace(jr,qr),qe=ae?e=>Buffer.from(e,"utf8").toString("base64"):Oe?e=>ze(Oe.encode(e)):e=>nr($r(e)),Hr=(e,r=!1)=>r?rr(qe(e)):qe(e),Xr=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Kr=e=>{switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),t=r-65536;return S((t>>>10)+55296)+S((t&1023)+56320);case 3:return S((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return S((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Vr=e=>e.replace(Xr,Kr),Yr=e=>{if(e=e.replace(/\s+/g,""),!Or.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let r,t="",n,o;for(let i=0;i<e.length;)r=Ce[e.charAt(i++)]<<18|Ce[e.charAt(i++)]<<12|(n=Ce[e.charAt(i++)])<<6|(o=Ce[e.charAt(i++)]),t+=n===64?S(r>>16&255):o===64?S(r>>16&255,r>>8&255):S(r>>16&255,r>>8&255,r&255);return t},ir=typeof atob=="function"?e=>atob(tr(e)):ae?e=>Buffer.from(e,"base64").toString("binary"):Yr,ar=ae?e=>Ze(Buffer.from(e,"base64")):e=>Ze(ir(e).split("").map(r=>r.charCodeAt(0))),cr=e=>ar(sr(e)),Jr=ae?e=>Buffer.from(e,"base64").toString("utf8"):ke?e=>ke.decode(ar(e)):e=>Vr(ir(e)),sr=e=>tr(e.replace(/[-_]/g,r=>r=="-"?"+":"/")),Qr=e=>Jr(sr(e)),Wr=e=>{const r=rt(e),t=Tr(r);return nt(t)},et=e=>{const r=ot(e),t=Gr(r);return tt(t)},rt=e=>cr(Hr(e)),tt=e=>Qr(or(e)),nt=e=>or(e,!0),ot=e=>cr(e),de=document.getElementById("app"),De=32,je=1,$e=100;let ie=!1,he=!1;const it="darkslategrey",at=["#232136","#393552","#3E8FB0","#6E6A86","#3E8FB0","#EA9A97","#9CCFD8","#C4A7E7","#EB6F92","#E0DEF4","#F6C177","#E0DEF4","#EA9A97","#E0DEF4","#9CCFD8","#C4A7E7","#EB6F92","#232136","#E0DEF4","#F6C177"];if(!pt())ge(de,De);else{ge(de,De);const e=_t(),r=St(),t=Lt(r);ge(de,e,t)}function ge(e,r,t){xt(e);const n=ct();e.appendChild(n),st(r,n),n.style.setProperty("--grid-size",r.toString());const o=lt();e.appendChild(o),t&&Et(t)}function ct(){const e=document.createElement("div");return e.setAttribute("id","grid"),e.classList.add($.gridContainer),e}function st(e,r){for(let n=0;n<e*e;n++){const o=document.createElement("div");o.setAttribute("data-nid",String(n)),o.classList.add($.gridItem),r.appendChild(o)}const t=r.querySelectorAll("div[data-nid]");ft(t)}function ft(e){e.forEach(r=>{r.addEventListener("mousedown",t=>{t.preventDefault(),ie=!0,ye(r)}),document.addEventListener("mouseup",()=>{ie=!1}),r.addEventListener("mouseenter",()=>{ie&&ye(r)}),r.addEventListener("touchstart",t=>{t.preventDefault(),ie=!0,ye(r)}),r.addEventListener("touchend",()=>{ie=!1}),r.addEventListener("touchmove",t=>{const n=t;n.preventDefault();const o=n.touches[0],i=document.elementFromPoint(o.clientX,o.clientY);i&&i.hasAttribute("data-nid")&&ye(i)})})}function lt(){const e=document.createElement("div");e.classList.add($.controlsContainer);const r=ut();e.appendChild(r);const t=ht();e.appendChild(t);const n=vt();e.appendChild(n);const o=dt();return e.appendChild(o),e}function ut(){const e=document.createElement("button");return e.classList.add($.button),e.textContent="Clear",gt(e),e}function vt(){const e=document.createElement("button");return e.classList.add($.button),e.textContent="Change grid size",mt(e),e}function dt(){const e=document.createElement("button");return e.classList.add($.button),e.textContent="Share",wt(e),e}function ht(){const e=document.createElement("button");return e.classList.add($.button),e.textContent="Color",bt(e),he&&e.classList.add($.buttonActive),e}function gt(e){e.addEventListener("click",At)}function mt(e){e.addEventListener("click",()=>{const r=prompt(`How big should the grid be? (${je} - ${$e})`),t=Number(r);if(!r||!Number.isInteger(t)||t<je||t>$e){new Y("Enter a valid grid size! Grid will be reset to it's default size.",3e3,"error").show(),ge(de,De);return}ge(de,t),new Y("Grid size changed",3e3,"success").show()})}function wt(e){e.addEventListener("click",()=>{const r=Ct(),t=yt();if(!r||!t){new Y("Nothing to share",3e3,"alert").show();return}const n=new URL(window.location.href);n.searchParams.set("s",String(r)),n.searchParams.set("grid",t),navigator.clipboard.writeText(n.toString()),window.history.replaceState({},"",n.toString()),new Y("Link copied",3e3,"success").show()})}function bt(e){e.addEventListener("click",()=>{he=!he,e.classList.toggle($.buttonActive);const r=`Color ${he?"enabled":"disabled"}`;new Y(r,3e3,"success").show()})}function Ct(){const e=document.getElementById("grid");if(!e)return 0;const r=e.childElementCount;return Math.sqrt(r)}function yt(){const e=document.getElementById("grid");if(!e)return"";const r=[];for(const o of e.children)if(o.classList.length>1){const i=o.getAttribute("data-nid"),a=o.getAttribute("style");if(i&&a){const l=a.split(":")[1].trim().replace(";",""),v=[];v.push(i,l),r.push(v)}}if(r.length===0)return"";const t=r.join(","),n=Wr(t);return encodeURIComponent(n)}function At(){const e=document.getElementById("grid");if(!e)return;e.querySelectorAll("div[data-nid]").forEach(n=>{n.classList.remove($.gridItemActive)}),Ft(),new Y("Grid cleared",3e3,"success").show()}function xt(e){document.getElementById("grid")&&(e.innerHTML="")}function Et(e){if(e.length===0)return;const r=document.getElementById("grid");if(!r){new Y("Something went wrong",3e3,"error").show();return}const t=r.querySelectorAll("div[data-nid]");for(const n of t){const o=n.getAttribute("data-nid"),i=Number(o);for(let a=0;a<e.length;a++){const l=e[a],v=Number(l[0]),m=l[1];v===i&&Ne(n,m)}}}function pt(){const e=new URL(window.location.href).searchParams,r=e.get("s"),t=e.get("grid");return!!(r&&t)}function _t(){const e=new URL(window.location.href).searchParams;return Number(e.get("s"))||0}function St(){const e=new URL(window.location.href).searchParams;return et(e.get("grid")||"")}function Lt(e){const t=decodeURIComponent(e).split(",").filter(o=>o!==""),n=[];for(let o=0;o<t.length;o+=2)t[o+1]!==void 0&&n.push([t[o],t[o+1]]);return n}function Ft(){const e=new URL(window.location.href);e.search="",window.history.replaceState({},"",e.toString())}function ye(e){ie&&(he?Ne(e,Bt(at)):Ne(e,it))}function Bt(e){return e[Math.floor(Math.random()*e.length)]}function Ne(e,r){e.classList.add($.gridItemActive),e.style.setProperty("--active-color",r)}
